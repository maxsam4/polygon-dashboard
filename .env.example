# .env.example

# =============================================================================
# Required - RPC Endpoints
# =============================================================================
# Polygon RPC (comma-separated, first is primary)
POLYGON_RPC_URLS=https://polygon-rpc.com,https://rpc.ankr.com/polygon

# Polygon WebSocket (comma-separated, for live-stream service)
POLYGON_WS_URLS=wss://polygon-bor-rpc.publicnode.com

# Heimdall API (comma-separated, first is primary)
HEIMDALL_API_URLS=https://heimdall-api.polygon.technology

# Ethereum RPC (optional, for inflation rate lookups)
# ETH_RPC_URLS=https://eth.drpc.org

# =============================================================================
# Database
# =============================================================================
DB_USER=polygon
DB_PASSWORD=polygon
DB_NAME=polygon_dashboard
DB_PORT=5432
DATABASE_URL=postgresql://polygon:polygon@localhost:5432/polygon_dashboard

# =============================================================================
# Ports
# =============================================================================
APP_PORT=3000
GRAFANA_PORT=3001

# =============================================================================
# Admin Authentication
# =============================================================================
# Required for admin panel to work
ADMIN_PASSWORD=your_admin_password_here

# Optional: Set for persistent sessions across restarts
# If not set, sessions are invalidated when server restarts
# ADMIN_SESSION_SECRET=your_random_32_char_string_here

# Legacy password (used as fallback if ADMIN_PASSWORD not set)
# ADD_RATE_PASSWORD=

# =============================================================================
# Block Indexer (forward indexing)
# =============================================================================
# INDEXER_POLL_MS=500
# INDEXER_BATCH_SIZE=100
# Near-realtime threshold: when the last block's timestamp is within this many ms
# of current time, the indexer switches to single-block fetches for lower latency.
# Default: 300000 (5 minutes)
# INDEXER_NEAR_REALTIME_THRESHOLD_MS=300000

# =============================================================================
# Block Backfiller (backward indexing)
# =============================================================================
BACKFILL_TO_BLOCK=50000000
# BACKFILL_BATCH_SIZE=100
# BACKFILL_DELAY_MS=100
# RPC_DELAY_MS=100

# =============================================================================
# Milestone Indexer (forward indexing)
# =============================================================================
# MILESTONE_POLL_MS=500
# MILESTONE_BATCH_SIZE=50

# =============================================================================
# Milestone Backfiller (backward indexing)
# =============================================================================
# MILESTONE_BACKFILL_TO_SEQUENCE=1
# MILESTONE_BACKFILL_DELAY_MS=500

# =============================================================================
# Priority Fee Backfiller
# =============================================================================
# HISTORICAL_PRIORITY_FEE_BATCH_SIZE=100
# HISTORICAL_PRIORITY_FEE_DELAY_MS=100

# =============================================================================
# Live Stream Service
# =============================================================================
# LIVE_STREAM_URL=http://live-stream:3002
# RING_BUFFER_SIZE=25

# =============================================================================
# Monitoring (optional)
# =============================================================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin
